回溯法（Backtracking）是一种通过**试探性搜索**来解决问题的算法策略。它通过**逐步构建解**，并在发现当前路径无法得到有效解时**回退一步**（回溯），尝试其他可能性。

### 核心思想

- **试错**：尝试一条路径，如果不行就退回
- **剪枝**：提前排除不可能的解，减少搜索空间
- **系统性搜索**：确保所有可能性都被探索到

### 适用场景

1. 组合问题（如电话号码字母组合）
2. 排列问题（如全排列）
3. 子集问题
4. 棋盘类问题（如N皇后）
5. 分割问题（如分割回文串）

## 代码模板

```cpp
void backtrack(参数) {
    if (终止条件) {
        存放结果;
        return;
    }
    
    for (选择：本层集合中的元素) {
        处理节点;
        backtrack(路径，选择列表); // 递归
        回溯，撤销处理结果
    }
}
```

### 关键要素

1. **终止条件**：何时将当前路径作为有效解保存
2. **遍历范围**：当前层有哪些选择
3. **前进处理**：做出选择后的操作
4. **回溯操作**：撤销选择，恢复状态

## 回溯法优化技巧

1. **剪枝优化**：
    - 提前排除不可能的解
    - 例题：组合总和问题中，当当前和超过目标时可提前终止
2. **去重处理**：
    - 排序后跳过相同元素（如子集II问题）
    - 使用哈希表记录已访问元素
3. **记忆化搜索**：
    - 存储中间结果避免重复计算
4. **迭代实现**：
    - 用栈模拟递归过程，避免递归开销0-