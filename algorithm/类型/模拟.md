- [[43.字符串相乘]]

### 如何判断题目是否属于模拟类型？  
**核心特征**：  
1. **明确的过程或规则**  
   题目要求按照特定步骤、流程或规则逐步执行操作，例如：  
   - 游戏规则模拟（棋类、约瑟夫环问题）。  
   - 字符串操作（按规则展开字符串，如 LeetCode 394）。  
   - 复杂过程模拟（螺旋遍历矩阵、设计计算器）。  

2. **无直接数学公式或算法模板**  
   无法用动态规划、贪心、二分等经典算法直接解决，需要“按题意硬写”。  

3. **多状态或多条件分支**  
   需要处理多种边界情况（如方向切换、循环终止条件）。  

---

### 模拟题的解题套路（四步法）  
#### 1. **理解并拆解规则**  
   - 将题目描述转化为可执行的步骤，明确每一步操作的条件和结果。  
   - 用注释或流程图梳理逻辑，避免遗漏分支。  

#### 2. **设计数据结构**  
   - **方向控制**：用方向数组（如 `dx, dy`）处理坐标移动（螺旋矩阵、BFS）。  
   - **状态记录**：用哈希表或数组记录对象状态（如游戏角色位置、棋盘状态）。  
   - **辅助容器**：栈、队列、链表等处理顺序或回溯操作（如表达式计算）。  

#### 3. **循环+分支实现**  
   - **循环终止条件**：明确何时结束模拟（如达到目标状态、遍历完所有元素）。  
   - **分支处理**：用 `if-else` 或 `switch` 处理不同情况（如方向切换、碰撞检测）。  

#### 4. **处理边界和异常**  
   - 数组越界、空输入、重复操作等特殊情况需单独处理。  
   - 测试极端用例（如矩阵大小为 1×1、字符串全为空格）。  

---

### 常见题型分类  
1. **方向控制型**  
   - 螺旋矩阵（LeetCode 54）、机器人路径（LeetCode 874）。  
   - 关键：用方向数组 `dx, dy` 表示移
   - 
   - 动方向，配合边界判断。  

2. **字符串解析型**  
   - 字符串解码（LeetCode 394）、计算器（LeetCode 224）。  
   - 关键：栈处理嵌套结构，循环处理数字和符号。  

3. **游戏规则型**  
   - 生命游戏（LeetCode 289）、井字棋胜负判断（LeetCode 348）。  
   - 关键：分步模拟状态变化，注意副本数组避免覆盖原始数据。  

4. **流程模拟型**  
   - 餐厅排队系统、任务调度（按优先级处理）。  
   - 关键：队列或堆管理任务顺序，时间轴推进。  

---

### 注意事项  
1. **画图辅助分析**：复杂流程先用示例模拟过程，再写代码。  
2. **避免死循环**：明确终止条件（如 `while left <= right`）。  
3. **测试极端用例**：空输入、全零矩阵、单元素情况。  
4. **代码可读性**：多用辅助变量和函数拆分复杂逻辑。  
